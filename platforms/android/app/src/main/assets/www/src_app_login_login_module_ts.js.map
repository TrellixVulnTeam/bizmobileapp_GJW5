{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/services/auth/auth.service.ts","./src/app/login/login.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthService } from '../services/auth/auth.service';\r\nimport { HeaderService } from '../services/header/header.service';\r\n\r\nimport { HttpClientModule  } from '@angular/common/http';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage],\r\n  providers: [\r\n    AuthService,\r\n    HeaderService\r\n  ]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NavController, MenuController, ToastController, AlertController, LoadingController } from '@ionic/angular';\r\nimport { AuthService } from '../services/auth/auth.service';\r\nimport { HeaderService } from '../services/header/header.service';\r\nimport { ToastService } from '../services/toast/toast.service';\r\nimport { ModuleService } from '../services/module/module.service';\r\n\r\nexport class LoginDetails {\r\n  url : string;\r\n  username: string;\r\n  password: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\n\r\nexport class LoginPage implements OnInit {\r\n  public onLoginForm: FormGroup;\r\n  public loginDetails: LoginDetails;\r\n\r\n  data: any;\r\n  loginData = {};\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public menuCtrl: MenuController,\r\n    public toastCtrl: ToastController,\r\n    public alertCtrl: AlertController,\r\n    public loadingCtrl: LoadingController,\r\n    private formBuilder: FormBuilder, \r\n    private authservice : AuthService,\r\n    private headerservice : ModuleService, \r\n    private toastService: ToastService, \r\n  ) {\r\n    this.loginDetails = new LoginDetails();    \r\n    if(localStorage.getItem('session') !== null){\r\n      this.navCtrl.navigateRoot('/home');\r\n    }\r\n  }\r\n  \r\n  ngOnInit() {\r\n    this.onLoginForm = this.formBuilder.group({\r\n      'url': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'username': [null, Validators.compose([\r\n        Validators.required\r\n      ])],\r\n      'password': [null, Validators.compose([\r\n        Validators.required\r\n      ])]\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n      this.menuCtrl.enable(false);\r\n  }\r\n  authorizeLogin() {\r\n    const options = this.headerservice.callHeader();\r\n    this.authservice.login(this.loginData, options).subscribe(res => {\r\n      this.data = res;\r\n      if (this.data !== null) {\r\n          if (this.data.success === true) {\r\n            localStorage.setItem('logindata', JSON.stringify(this.loginData));\r\n            localStorage.setItem('userdata', this.data.result.login);\r\n            localStorage.setItem('session', this.data.result.login.session);\r\n            localStorage.setItem('userid', this.data.result.login.userid);\r\n            this.navCtrl.navigateRoot('/home');\r\n            this.toastService.presentToast('Login Sucessfull');\r\n          } else {\r\n            this.toastService.presentToast('Username and password wrong');\r\n          }\r\n      }\r\n       else {\r\n          this.toastService.presentToast('Something Wrong');\r\n      }\r\n    }, (err) => {\r\n       console.log(err);\r\n    });\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable, of, throwError } from 'rxjs';\r\nimport { HttpClient, HttpErrorResponse} from '@angular/common/http';\r\nimport { catchError, tap, map, } from 'rxjs/operators';\r\nimport { environment} from '../../../environments/environment'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class AuthService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  data: any;\r\n  result: any;\r\n\r\n  private handleError<T> (operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      // TODO: send the error to remote logging infrastructure\r\n      console.error(error); // log to console instead  \r\n      // Let the app keep running by returning an empty result.\r\n      return of(result as T);\r\n    };\r\n  } \r\n\r\n  login(logindata,options): Observable<any> {\r\n\r\n    var formdata = new FormData();\r\n    formdata.append('_operation','login');\r\n    formdata.append('username',logindata.username);\r\n    formdata.append('password',logindata.password);\r\n    let url = environment.baseurl\r\n    // http://realestatedemo.biztechnosys.com/\r\n    // http://beml.biztechnosys.com/\r\n    // https://bizuiaccountingcrm.biztechnosys.com/\r\n    // return this.http.post<any>(logindata.url + '/modules/Mobile/api.php', formdata, options).pipe(\r\n    return this.http.post<any>(url, formdata, options).pipe(\r\n\r\n      tap((logindata: any) => console.log(`logindata`)),\r\n      catchError(this.handleError<any>('login'))\r\n    );\r\n  }\r\n\r\n  faqform(logindata,options): Observable<any> {\r\n\r\n    var formdata = new FormData();\r\n    formdata.append('_operation','login');\r\n    formdata.append('name',logindata.name);\r\n    formdata.append('question',logindata.question);\r\n    formdata.append('answer',logindata.answer);\r\n    formdata.append('module', logindata.module);\r\n    return this.http.post<any>(logindata.url + '/modules/Mobile/api.php', formdata, options).pipe(\r\n      tap((logindata: any) => console.log(`logindata`)),\r\n      catchError(this.handleError<any>('login'))\r\n    );\r\n  }\r\n}\r\n","export default \"<!--Rajesh Saha-->\\r\\n<div class=\\\"bg-image\\\">\\r\\n    <form [formGroup]=\\\"onLoginForm\\\" (submit)=\\\"authorizeLogin()\\\"  class=\\\"list-form\\\" >\\r\\n      <div class=\\\"imgcontainer\\\">\\r\\n        <img src=\\\"assets/img/test.png\\\" alt=\\\"bizCrm\\\" class=\\\"avatar\\\">\\r\\n      </div>\\r\\n      <ion-card>\\r\\n      <div class=\\\"container\\\">\\r\\n        <!-- <label for=\\\"uname\\\"><b>Url</b></label>\\r\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"loginData.url\\\" formControlName=\\\"url\\\" border-color=\\\"light\\\" clearInput>\\r\\n        <p ion-text *ngIf=\\\"onLoginForm.get('url').touched && onLoginForm.get('url').hasError('required')\\\">\\r\\n            <ion-text color=\\\"danger\\\">\\r\\n             Please enter url\\r\\n            </ion-text>\\r\\n      </p> -->\\r\\n\\r\\n        <label for=\\\"uname\\\"><b>Username</b></label>\\r\\n        <input type=\\\"text\\\" [(ngModel)]=\\\" loginData.username\\\" formControlName=\\\"username\\\" border-color=\\\"light\\\" clearInput>\\r\\n  <p ion-text *ngIf=\\\"onLoginForm.get('url').touched && onLoginForm.get('url').hasError('required')\\\" >\\r\\n        <ion-text color=\\\"danger\\\">\\r\\n         Please enter username\\r\\n        </ion-text>\\r\\n  </p>\\r\\n    \\r\\n        <label for=\\\"psw\\\"><b>Password</b></label>\\r\\n        <input type=\\\"password\\\" [(ngModel)]=\\\" loginData.password\\\" formControlName=\\\"password\\\" clearInput>\\r\\n  <p ion-text color=\\\"danger\\\"\\r\\n      *ngIf=\\\"onLoginForm.get('password').touched && onLoginForm.get('password').hasError('required')\\\" >\\r\\n      <ion-text color=\\\"danger\\\">\\r\\n        Please enter password\\r\\n      </ion-text>\\r\\n    </p>\\r\\n            \\r\\n    <button  size=\\\"medium\\\"color=\\\"primary\\\" class=\\\"login\\\" type=\\\"submit\\\" tappable> LOGIN </button> \\r\\n    \\r\\n      </div>                                                                                                                                                                                                                      \\r\\n    </ion-card>\\r\\n      <!-- <div class=\\\"container\\\" style=\\\"background-color:#f1f1f1\\\">\\r\\n          <span class=\\\"psw\\\">Forgot <a href=\\\"#\\\">password?</a></span>                                             \\r\\n          <p class=\\\"cancelbtn\\\"> Copyright@BizTechnosys 2019</p>\\r\\n      </div> -->\\r\\n    </form>\\r\\n  </div>\\r\\n<!--Rajesh Saha-->\";"],"names":[],"sourceRoot":"webpack:///"}